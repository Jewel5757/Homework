<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    
    <title>Words & letters</title>
    
    <script>
        let input = 'Однажды, в студеную зимнюю пору,\nЯ из лесу вышел; был сильный мороз.\nГляжу, поднимается медленно в гору\nЛошадка, везущая хворосту воз.\nИ, шествуя важно, в спокойствии чинном,\nЛошадку ведет под уздцы мужичок\nВ больших сапогах, в полушубке овчинном,\nВ больших рукавицах... а сам с ноготок!\n— Здорово, парнище!— «Ступай себе мимо!»\n— Уж больно ты грозен, как я погляжу!\nОткуда дровишки?— «Из лесу, вестимо;\nОтец, слышишь, рубит, а я отвожу».\n(В лесу раздавался топор дровосека.)\n— А что, у отца-то большая семья?\n«Семья-то большая, да два человека\nВсего мужиков-то: отец мой да я...»\n— Так вон оно что! А как звать тебя?— «Власом».\n— А кой тебе годик?— «Шестой миновал...\nНу, мертвая!» — крикнул малюточка басом,\nРванул под уздцы и быстрей зашагал.';
        
        let dlina = input.length;

        console.log (input);

        input = input.replace(/[^А-Яа-яЁё]+/g, ' ');
        
        console.log (input);
         
        let dlina1 = input.length;

        console.log(input.length);

        slova = input.split(' ').length;
        console.log(input.split(' ').length);
        
        let letters = {};


        for (i of 'абвгдеёжхиклмнопрстуфхцчшщэюя') {
        letters [i]=0; }


        for (i of input.toLowerCase()) {
            if (typeof letters[i] == 'number') letters[i]++
        }
        
        for (i of 'абвгдеёжхиклмнопрстуфхцчшщэюя') {
        if (letters [i] == 0) delete letters[i];
        }


       console.log (letters);
       console.log(Object.values(letters) .reduce((sum,current) => sum + current,0));
      
       document.write('<pre>'+input+'</pre>');
  
       document.write ('Длина до преобразований:' + ' ' + dlina +  ' ' + 'Длина после преобразрвания:' + dlina1 + ' ' );
  

       document.write ('Количество слов' +  ' ' +slova)
    </script>
</head>
<body></body>
</html>